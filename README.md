# Исследование скорости работы графовых алгоритмов 
## Проект состоит из двух частей:
1. Алгоритмы поиска кратчайшего пути на графах дорог (Директория RoadMapAlgorithms)
2. Алгоритмы решения головоломки "Пятнашки" (Директория FifteesAlgorithms)

# Алгоритмы поиска кратчайшего пути на графах дорог

## Алгоритмы
A* (однонаправленный)

Двунаправленный A* (2A*)

Многопоточный двунаправленный A*

Алгоритм Дейкстры

Двунаправленный алгоритм Дейкстры

Многопоточный двунаправленный алгоритм Дейкстры
## Структура файлов
```text
├── /Graphs         # Графы в формате GeoJSON
|
├── /algorithms           
│   ├── /dijkstra.cpp (.h)  # Алгоритм Дейкстры
│   ├── /astar.cpp (.h) # A*
│   ├── /bidirectional_astar.cpp (.h) # Двунаправленный A* / Двунаправленный алгоритм Дейкстры
│   └── /multithread_bidirectional_astar.cpp (.h) # Двунаправленный многопоточный A* / алгоритм Дейкстры
|
├── /rapidjon # Библиотека для работы с JSON
├── /utils
│   ├── /distance.cpp (.h)  # Модуль вычисления расстояния
|   └── /graph.cpp (.h) # Методы для работы с графом и эвристическая функция для эвристических алгоритмов
|
├── test_system.cpp (.h) # Тестирующая система для алгоритмов
|── main.cpp # Пример запуска тестирующей системы
└── CMakeLists.txt # Файл конфигурации проекта CMake
```
В текущей реализации Двунаправленный A* / Двунаправленный алгоритм Дейкстры и Двунаправленный многопоточный A* / алгоритм Дейкстры находятся в одном файле, но при запуске алгоритмов Дейкстры флаг isDejkstra = true и вместо эвристической функции к весу ребра прибавляется 0:
```C++
heuristic = isDejkstra ? 0 : Graph::heuristic(neighbour, AStarIndex);
```

## Особенности
Точное вычисление расстояния по гаверсинусной формуле

Работа с графами в формате GeoJSON

Кэширование графа - граф загружается единожды при запуске

Гибко настраиваемая тестирующая система

## Формат графа
Файл GeoJSON с дорожной сетью
``` json
json
{
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "geometry": {
        "type": "LineString",
        "coordinates": [[37.615555, 55.752220], [37.615600, 55.752300]]// Рёбра графа
      }
    }
  ]
}
```

## Сборка и запуск
``` bash
cd RoadMapAlgorithms
mkdir build && cd build
cmake ..
make
./pathfinding
```


# Алгоритмы решения головоломки "Пятнашки"

## Алгоритмы
A* с улучшенной эвристикой (оценивает общую запутанность пятнашки)

Двунаправленный A* с адаптивной эвристикой (коэффиценты внутри неё меняются по ходу алгоритма)

Поиск в ширину (BFS)

Двунаправленный BFS

Многопоточный 2BFS

Многопоточный 2A*

## Структура файлов
```text
├── /algorithms           
│   ├── /bfs.cpp (.h)  # BFS (Поиск в ширину)
│   ├── /bidirectional_bfs.cpp (.h) # Двунаправленный BFS (2BFS)
│   ├── /multithread_bidirectional_bfs.cpp (.h) # # Двунаправленный многопоточный BFS
│   ├── /astar.cpp (.h) # A* (Алгоритм эвристического поиска)
│   ├── /bidirectional_astar.cpp (.h) # Двунаправленный A* (2A*)
│   └── /multithread_bidirectional_astar.cpp (.h) # Двунаправленный многопоточный A* 
|
├── /test_results
│   └── /results.csv # Файл, в который по умолчанию записываются результаты тестирования 
|
├── /utils
│   ├── /fiftees_generator.cpp (.h)  # Генератор пятнашек заданной сложности
│   ├── /graph.cpp (.h) # Методы для работы с графом, оптимизированные побитовыми операциями
|   └── /heuristics.cpp (.h) # Эвристические функции и вспомогательные методы для эвристических алгоритмов
├── /visualization
│   ├── /requirements.txt # Зависимости, необходимые для работы скрипта визкализации
│   └── /vizualyze.py # Скрипт визуализации результатов тестирования
|
├── test_system.cpp (.h) # Тестирующая система для алгоритмов
|── main.cpp # Пример запуска тестирующей системы
└── CMakeLists.txt # Файл конфигурации проекта CMake
```

## Особенности
Кодирование состояния поля в 64-битное число

Все операции с полями основаны на побитовых опреациях, что сильно ускоряет работу алгоритмов

Эвристическая функция, оценивающая общую запутанность пятнашки

Встроенный генератор пятнашек 

Гибко настраиваемая тестирующая система 

Возможность сохранения результатов тестирования в CSV файл

Модуль на Python, визуализирующий резултаты тестирования

## Сборка и запуск
Запуск тестирующей системы:
``` bash
cd FifteesAlgorithms
mkdir build && cd build
cmake ..
make
./fifteesSolver
```
Запуск визуализации результатов тестирования:
``` bash
cd FifteesAlgorithms/visualization
pip install -r requirements.txt
python vizualyze.py
```

# Ссылки
В проекте с дорогами используется библиотека JSON для C++ [RapidJSON](https://github.com/Tencent/rapidjson/releases)
